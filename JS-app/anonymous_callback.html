<!DOCTYPE html>
<html>

<body>
    <script>
        (function () {
            function getData(callback) {
                console.log("getting data")
                console.log("Taking some time")
                var r = Math.random(10) * 10;
                if (r >= 5) {
                    callback({
                        result: "success " + r
                    })
                }
                else {
                    callback({
                        error: "Number is less than 5"
                    })
                }
            }
            getData(function (data) {
                console.log(data)
                console.log("Inside anonymous handler")
                if (data.error) {
                    console.log("error" + data.error)
                }
                else {
                    console.log("result found: " + data.result)
                }
            })
        })();
    </script>
</body>

</html>